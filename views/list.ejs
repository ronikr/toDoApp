<%- include("header") -%>

<div class="box" id="heading">
  <h1><%=listTitle%></h1>
</div>

<div class="box">
  <% newListItems.forEach(newItem => { %>
  <form action="/delete" method="post">
    <div class="item">
      <input type="checkbox" name="checkbox" value=<%=newItem._id%> onchange="submit(this.value)"/>
      <p><%= newItem.name %></p>
    </div>
    <input type="hidden" name="list" value="<%=listTitle%>"></input>
  </form>
  <% }); %>

  <form class="item" action="/" method="post">
    <input
      type="text"
      name="newItem"
      placeholder="New Item"
      autocomplete="off"
    />
    <!-- there is a bug that users can click this before adding text so there is a validation error, 
      fix it to disable the button before adding text. an option is to add class ="hidden" and remove it when someone types -->
    <button type="submit" name="list" value="<%=listTitle%>">+</button>
  </form>
</div>

<%- include("footer") -%>
